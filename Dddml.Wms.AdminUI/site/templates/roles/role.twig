{% extends "share/base.twig" %}
{% block top %}
{% endblock %}
{% block main %}
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            空白页面演示
            <small>最基本的结构模板</small>
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i> 首页</a></li>
            <li><a href="#">页面演示</a></li>
            <li class="active">空白页面</li>
        </ol>
    </section>
    {% verbatim %}
    <!-- Main content -->
    <section class="content">

        <!-- Default box -->
        <div class="box">
            <div class="box-header with-border">
                <h3 class="box-title">标题</h3>
            </div>
            <div class="box-body form-horizontal" v-for="field in fields">
                <div class="form-group">
                    <label for="form-email" class="col-sm-2 control-label">{{ field }}</label>
                    <div class="col-sm-10">
                        <span class="form-control">{{entity[field]}}</span>
                    </div>
                </div>
            </div>
            <!-- /.box-body -->
            <div class="box-footer">
                脚部
            </div>
            <!-- /.box-footer-->
        </div>
        <!-- /.box -->

    </section>
    <!-- /.content -->
    {% endverbatim %}
{% endblock %}
{% block bottom %}
    <script>
        var vueData = {
            entity: {}
        };
        new Vue({
            el: '#app',
            data: vueData,
            computed: {
                fields: function () {
                    console.log(this.entity);
                    return Object.keys(this.entity);
                }
            }
        });

        $(function () {
            $.getJSON('/api/roles/WarehouseManager', function (data) {
                vueData.entity = data;
                console.log(vueData);
            })
        });
    </script>
{% endblock %}